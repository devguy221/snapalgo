"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.excludedProperties = void 0;
exports.excludedProperties = [
    'compileStreaming',
    'instantiateStreaming',
];
/**
 * Builds a cross-platform `WebAssembly` only consisting of functions present
 * both in the browser and Node.js.
 *
 * @returns An object with a `WebAssembly` property without `compileStreaming`
 * and `instantiateStreaming`.
 */
const createWasm = () => {
    const wasm = Object.create(null);
    Reflect.ownKeys(WebAssembly)
        .filter((key) => !exports.excludedProperties.includes(key))
        .forEach((key) => {
        Object.defineProperty(wasm, key, Object.assign(Object.assign({}, Reflect.getOwnPropertyDescriptor(WebAssembly, key)), { value: WebAssembly[key] }));
    });
    return { WebAssembly: wasm };
};
const endowmentModule = {
    names: ['WebAssembly'],
    factory: createWasm,
};
exports.default = endowmentModule;
//# sourceMappingURL=wasm.js.map